<div class="outsideWrapper">
  <mat-card *ngIf="!!confirmationRegistration" class="alert" style="text-align: center">
    <mat-card-content>
      {{'messages.registerSuccess' | translate}}
    </mat-card-content>
  </mat-card>
  <mat-card style="text-align: center">
    <mat-card-title> {{'general.login' | translate}} </mat-card-title>
    <form (ngSubmit)="login()">
      <mat-card-content>
        <p [hidden]="!message">{{ message! | translate }}</p>
        <p [hidden]="!loginFailureText">{{ 'messages.loginfail' | translate }}</p>
        <br/>
        <mat-form-field appearance="fill">
          <mat-label>{{'general.username' | translate}}</mat-label>
          <input [(ngModel)]="username" matInput name="username" required/>
          <mat-error *ngIf="!username">{{'validations.username.required' |translate}}</mat-error>
        </mat-form-field>
        <br/>
        <mat-form-field appearance="fill">
          <mat-label>{{'general.password' | translate}}</mat-label>
          <input
            matInput
            [type]="hide ? 'password' : 'text'"
            name="password"
            [(ngModel)]="password"
            required
          />
          <button
            mat-icon-button
            type="button"
            matSuffix
            (click)="hide = !hide"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hide"
          >
            <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
          </button>
          <mat-error *ngIf="!password">{{'validations.password.required' | translate}}</mat-error>
        </mat-form-field>
        <br/>
        <a [routerLink]="['/forgotPassword']">{{'general.forgotPassword' | translate}}</a>
        <br/>
      </mat-card-content>

      <mat-card-actions align="end">
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="!canLogin()"
        >
          {{'general.login' | translate}}
        </button>
        <button [routerLink]="['/register']" color="primary" mat-raised-button>
          {{'general.register' | translate}}
        </button>
      </mat-card-actions>
    </form>

    <mat-card-footer></mat-card-footer>
  </mat-card>
</div>
